(this.webpackJsonpadmin_shop=this.webpackJsonpadmin_shop||[]).push([[10],{121:function(e,t,a){"use strict";a.r(t);var c=a(50),r=a(1),o=a(2),s=a(71),n=a.n(s),l=a(0);t.default=()=>{const[e,t]=Object(r.useState)(""),[a,s]=Object(r.useState)(""),[i,d]=Object(r.useState)(""),[u,p]=Object(r.useState)(""),[m,j]=Object(r.useState)(""),[b,g]=Object(r.useState)(""),[h,f]=Object(r.useState)(!1),[x,O]=Object(r.useState)(!1),[y,S]=Object(r.useState)(!1),[N,v]=Object(r.useState)(!1),[P,w]=Object(r.useState)(!1),[C,D]=Object(r.useState)(!1),[z,A]=Object(r.useState)(),{productId:F}=Object(o.h)(),E=Object(o.g)().pathname;if(console.log(E),E==="/update/".concat(F)){(async()=>{const e=(await c.a.getDetail(F)).product;t(e.name),s(e.category),d(Number(e.price)),p(e.quantity),j(e.short_desc),g(e.long_desc)})()}return z?Object(l.jsx)(o.a,{to:"/products"}):Object(l.jsx)("div",{className:"page-wrapper",children:Object(l.jsx)("div",{className:"page-breadcrumb",children:Object(l.jsx)("div",{className:"row",children:Object(l.jsxs)("form",{onSubmit:r=>{if(r.preventDefault(),""===e.trim())f(!0);else if(f(!1),""===a.trim())O(!0);else if(O(!1),""===i)S(!0);else if(S(!1),""===u)v(!0);else if(v(!1),""===m.trim())w(!0);else if(w(!1),""===b.trim())w(!0);else{D(!1),console.log("ki\u1ec3m duy\u1ec7t th\xe0nh c\xf4ng");const e=new FormData(r.target);let a;if(console.log(e),E==="/update/".concat(F)){(async()=>{const t=await c.a.postUpdateProduct(F,e);a=t.message,console.log(a)})()}if("/new"===E){(async()=>{const r=await c.a.postNewProduct(e);a=r.message,console.log(a),t(""),s(""),d(""),p(""),j(""),g("")})()}n.a.set("notifier","position","bottom-left"),a&&n.a.success(a),setTimeout((()=>{A(!0)}),2e3)}},style:{width:"50%",marginLeft:"40px"},encType:"multipart/form-data",children:[Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Product Name"}),Object(l.jsx)("input",{type:"text",className:"form-control",name:"name",placeholder:"Enter Product Name",defaultValue:e,onChange:e=>t(e.target.value)}),h&&Object(l.jsx)("p",{style:{color:"red",fontSize:"10px",textAlign:"center"},children:"Please enter the product name"})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Category"}),Object(l.jsx)("input",{type:"text",className:"form-control",name:"category",placeholder:"Enter Category",defaultValue:a,onChange:e=>s(e.target.value)}),x&&Object(l.jsx)("p",{style:{color:"red",fontSize:"10px",textAlign:"center"},children:"Please enter the product category"})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Price"}),Object(l.jsx)("input",{type:"number",className:"form-control",name:"price",placeholder:"Enter Price",defaultValue:i,onChange:e=>d(e.target.value),min:"0"}),y&&Object(l.jsx)("p",{style:{color:"red",fontSize:"10px",textAlign:"center"},children:"Please enter the product price"})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Quantity"}),Object(l.jsx)("input",{type:"number",className:"form-control",name:"quantity",placeholder:"Enter Price",defaultValue:u,onChange:e=>p(e.target.value),min:"0"}),N&&Object(l.jsx)("p",{style:{color:"red",fontSize:"10px",textAlign:"center"},children:"Please enter the number of products you have currently."})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Short Description"}),Object(l.jsx)("textarea",{className:"form-control",rows:"3",name:"short_desc",placeholder:"Enter Short Description",defaultValue:m,onChange:e=>j(e.target.value)}),P&&Object(l.jsx)("p",{style:{color:"red",fontSize:"10px",textAlign:"center"},children:"Please enter short description of the product"})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Long Description"}),Object(l.jsx)("textarea",{className:"form-control",rows:"6",name:"long_desc",placeholder:"Enter Long Description",defaultValue:b,onChange:e=>g(e.target.value)}),C&&Object(l.jsx)("p",{style:{color:"red",fontSize:"10px",textAlign:"center"},children:"Please enter long description of the product"})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{htmlFor:"exampleFormControlFile1",children:"Upload image (5 images)"}),Object(l.jsx)("input",{type:"file",name:"image",className:"form-control-file",id:"exampleFormControlFile1",multiple:!0,disabled:E==="/update/".concat(F)})]}),Object(l.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})})})}},33:function(e,t,a){"use strict";var c=a(36),r=a.n(c),o=a(35),s=a.n(o);const n=r.a.create({baseURL:"http://localhost:5000/admin",headers:{"content-type":"application/json"},paramsSerializer:e=>s.a.stringify(e)});n.interceptors.request.use((async e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e.data instanceof FormData&&delete e.headers["content-type"],e})),n.interceptors.response.use((e=>e&&e.data?e.data:e),(e=>{throw e})),t.a=n},50:function(e,t,a){"use strict";var c=a(33);const r={getAPI:()=>c.a.get("/products"),getCategory:e=>{const t="/products/category".concat(e);return c.a.get(t)},getDetail:e=>{const t="/products/".concat(e);return c.a.get(t)},postNewProduct:e=>c.a.post("/add-product",e),postUpdateProduct:(e,t)=>{const a="/products/update/".concat(e);return c.a.post(a,t)},getPagination:e=>{const t="/products/pagination".concat(e);return c.a.get(t)},deleteProduct:e=>{const t="/products/delete/".concat(e);return c.a.delete(t)}};t.a=r}}]);
//# sourceMappingURL=10.4c646207.chunk.js.map