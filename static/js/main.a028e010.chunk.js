(this.webpackJsonpadmin_shop=this.webpackJsonpadmin_shop||[]).push([[3],{23:function(e,a,s){},32:function(e,a,s){"use strict";s.r(a);var t=s(1),c=s.n(t),n=s(15),l=s.n(n),i=(s(23),s(11)),r=s(16),d=s(9),j=s(2),o=s(8),b=s(0);var h=function(e){const{user:a}=Object(t.useContext)(o.a);console.log(a);const{loading:s,error:c,dispatch:n}=Object(t.useContext)(o.a),[l,i]=Object(t.useState)(localStorage.getItem("name_user")),[r,j]=Object(t.useState)(!1),[h,m]=Object(t.useState)(!1);return Object(t.useEffect)((()=>{a&&i(a.fullname)}),[a]),h&&window.location.reload(),Object(b.jsx)("header",{className:"topbar","data-navbarbg":"skin6",children:Object(b.jsxs)("nav",{className:"navbar top-navbar navbar-expand-md",children:[Object(b.jsxs)("div",{className:"navbar-header","data-logobg":"skin6",children:[Object(b.jsx)("a",{className:"nav-toggler waves-effect waves-light d-block d-md-none",href:"#",children:Object(b.jsx)("i",{className:"ti-menu ti-close"})}),Object(b.jsx)("div",{className:"navbar-brand",children:Object(b.jsx)(d.b,{to:"/",children:Object(b.jsx)("span",{className:"logo-text",children:Object(b.jsx)("span",{children:"Admin Page"})})})})]}),Object(b.jsxs)("div",{className:"navbar-collapse collapse",id:"navbarSupportedContent",children:[Object(b.jsx)("ul",{className:"navbar-nav float-left mr-auto ml-3 pl-1",children:Object(b.jsx)("li",{className:"nav-item dropdown",children:Object(b.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(b.jsx)("a",{className:"dropdown-item",href:"#",children:"Action"}),Object(b.jsx)("a",{className:"dropdown-item",href:"#",children:"Another action"}),Object(b.jsx)("div",{className:"dropdown-divider"}),Object(b.jsx)("a",{className:"dropdown-item",href:"#",children:"Something else here"})]})})}),Object(b.jsx)("ul",{className:"navbar-nav float-right",children:l&&Object(b.jsxs)("li",{className:"nav-item dropdown",children:[Object(b.jsx)("a",{className:"nav-link dropdown-toggle",href:"#","aria-expanded":r,onClick:()=>{j(!r)},children:Object(b.jsxs)("span",{className:"ml-2 d-none d-lg-inline-block",children:[Object(b.jsx)("span",{children:"Hello,"})," ",Object(b.jsx)("span",{className:"text-dark",children:a?a.fullname:localStorage.getItem("name_user")?localStorage.getItem("name_user"):""})," ",Object(b.jsx)("i",{"data-feather":"chevron-down",className:"svg-icon"})]})}),r&&Object(b.jsx)("div",{style:{position:"absolute",bottom:"-50%",zIndex:100,background:"white",margin:"20px",width:"100%",pointer:"cursor"},onClick:()=>{localStorage.removeItem("id_user"),localStorage.removeItem("name_user"),localStorage.removeItem("token"),i(null),j(!r),n("LOGOUT"),m(!0)},children:Object(b.jsxs)("a",{className:"dropdown-item",children:[Object(b.jsx)("i",{className:"svg-icon mr-2 ml-1"}),"Logout"]})})]})})]})]})})};var m=function(e){const[a,s]=Object(t.useState)(!1);return Object(b.jsx)("aside",{className:"left-sidebar","data-sidebarbg":"skin6",children:Object(b.jsx)("div",{className:"scroll-sidebar","data-sidebarbg":"skin6",children:Object(b.jsx)("nav",{className:"sidebar-nav",children:Object(b.jsxs)("ul",{id:"sidebarnav",children:[Object(b.jsx)("li",{className:"sidebar-item",children:Object(b.jsxs)("a",{className:"sidebar-link sidebar-link",href:"/",children:[Object(b.jsx)("i",{"data-feather":"home",className:"feather-icon"}),Object(b.jsx)("span",{className:"hide-menu",children:"Dashboard"})]})}),Object(b.jsx)("li",{className:"list-divider"}),Object(b.jsx)("li",{className:"nav-small-cap",children:Object(b.jsx)("span",{className:"hide-menu",children:"Components"})}),Object(b.jsx)("li",{className:"sidebar-item",children:Object(b.jsxs)("a",{className:"sidebar-link sidebar-link",href:"/new",children:[Object(b.jsx)("i",{"data-feather":"settings",className:"feather-icon"}),Object(b.jsx)("span",{className:"hide-menu",children:"New Product"})]})}),Object(b.jsx)("li",{className:"sidebar-item",children:Object(b.jsxs)("a",{className:"sidebar-link sidebar-link",href:"/chat",children:[Object(b.jsx)("i",{"data-feather":"message-square",className:"feather-icon"}),Object(b.jsx)("span",{className:"hide-menu",children:"Customer"})]})}),Object(b.jsxs)("li",{className:"sidebar-item",children:[Object(b.jsxs)("a",{className:"sidebar-link has-arrow",href:"#",onClick:()=>{s(!a)},"aria-expanded":a,children:[Object(b.jsx)("i",{"data-feather":"grid",className:"feather-icon"}),Object(b.jsx)("span",{className:"hide-menu",children:"Tables"})]}),a&&Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{className:"sidebar-item",children:Object(b.jsx)("a",{href:"/users",className:"sidebar-link",children:Object(b.jsx)("span",{className:"hide-menu",children:"Users"})})}),Object(b.jsx)("li",{className:"sidebar-item",children:Object(b.jsx)("a",{href:"/products",className:"sidebar-link",children:Object(b.jsx)("span",{className:"hide-menu",children:"Products"})})}),Object(b.jsx)("li",{className:"sidebar-item",children:Object(b.jsx)("a",{href:"/history",className:"sidebar-link",children:Object(b.jsx)("span",{className:"hide-menu",children:"History"})})})]})]}),Object(b.jsx)("li",{className:"list-divider"}),Object(b.jsx)("li",{className:"nav-small-cap",children:Object(b.jsx)("span",{className:"hide-menu",children:"Authentication"})}),Object(b.jsx)("li",{className:"sidebar-item",children:Object(b.jsxs)("a",{className:"sidebar-link sidebar-link",href:"/login","aria-expanded":!1,children:[Object(b.jsx)("i",{"data-feather":"lock",className:"feather-icon"}),Object(b.jsx)("span",{className:"hide-menu",children:"Login"})]})}),Object(b.jsx)("li",{className:"sidebar-item",children:Object(b.jsxs)("a",{className:"sidebar-link sidebar-link",href:"/register","aria-expanded":!1,children:[Object(b.jsx)("i",{"data-feather":"lock",className:"feather-icon"}),Object(b.jsx)("span",{className:"hide-menu",children:"Register"})]})})]})})})})};var u=e=>{let{children:a}=e;return Object(b.jsxs)("div",{id:"main-wrapper","data-theme":"light","data-layout":"vertical","data-navbarbg":"skin6","data-sidebartype":"full","data-sidebar-position":"fixed","data-header-position":"fixed","data-boxed-layout":"full",children:[Object(b.jsx)(h,{}),Object(b.jsx)(m,{}),Object(b.jsx)("main",{children:a})]})};const O=["component","isAuthenticated"],x=Object(t.lazy)((()=>Promise.all([s.e(0),s.e(1),s.e(7)]).then(s.bind(null,124)))),p=Object(t.lazy)((()=>Promise.all([s.e(0),s.e(1),s.e(8)]).then(s.bind(null,117)))),N=Object(t.lazy)((()=>Promise.all([s.e(0),s.e(9)]).then(s.bind(null,118)))),g=Object(t.lazy)((()=>Promise.all([s.e(0),s.e(1),s.e(2),s.e(11)]).then(s.bind(null,123)))),f=Object(t.lazy)((()=>Promise.all([s.e(0),s.e(12)]).then(s.bind(null,119)))),v=Object(t.lazy)((()=>Promise.all([s.e(0),s.e(6)]).then(s.bind(null,120)))),k=Object(t.lazy)((()=>Promise.all([s.e(0),s.e(2),s.e(10)]).then(s.bind(null,121))));var S=function(){const{user:e}=Object(t.useContext)(o.a),[a,s]=Object(t.useState)(!!e||!!localStorage.getItem("id_user"));return Object(t.useEffect)((()=>{e||localStorage.getItem("id_user")?s(!0):s(!1)}),[e]),Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(d.a,{children:Object(b.jsx)(t.Suspense,{fallback:Object(b.jsx)("div",{children:"Loading..."}),children:Object(b.jsx)(u,{children:Object(b.jsxs)(j.d,{children:[Object(b.jsx)(w,{exact:!0,path:"/",component:N,isAuthenticated:a}),Object(b.jsx)(w,{exact:!0,path:"/chat",component:x,isAuthenticated:a}),Object(b.jsx)(w,{exact:!0,path:"/users",component:f,isAuthenticated:a}),Object(b.jsx)(w,{exact:!0,path:"/products",component:g,isAuthenticated:a}),Object(b.jsx)(w,{exact:!0,path:"/history",component:p,isAuthenticated:a}),Object(b.jsx)(w,{exact:!0,path:"/new",component:k,isAuthenticated:a}),Object(b.jsx)(w,{exact:!0,path:"/update/:productId",component:k,isAuthenticated:a}),Object(b.jsx)(j.b,{path:"/login",component:v})]})})})})})};function w(e){let{component:a,isAuthenticated:s}=e,t=Object(r.a)(e,O);return Object(b.jsx)(j.b,Object(i.a)(Object(i.a)({},t),{},{render:e=>s?Object(b.jsx)(a,Object(i.a)({},e)):Object(b.jsx)(j.a,{to:{pathname:"/login",state:{from:e.location}}})}))}var y=e=>{e&&e instanceof Function&&s.e(13).then(s.bind(null,122)).then((a=>{let{getCLS:s,getFID:t,getFCP:c,getLCP:n,getTTFB:l}=a;s(e),t(e),c(e),n(e),l(e)}))};l.a.render(Object(b.jsx)(o.b,{children:Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(S,{})})}),document.getElementById("root")),y()},8:function(e,a,s){"use strict";s.d(a,"a",(function(){return l})),s.d(a,"b",(function(){return r}));var t=s(1),c=s(0);const n={user:JSON.parse(localStorage.getItem("asm03-user"))||null,loading:!1,error:null},l=Object(t.createContext)(n),i=(e,a)=>{switch(a.type){case"LOGIN_START":return{user:null,loading:!0,error:null};case"LOGIN_SUCCESS":return{user:a.payload,loading:!1,error:null};case"LOGIN_FAILURE":return{user:null,loading:!1,error:a.payload};case"LOGOUT":return{user:null,loading:!1,error:null};default:return e}},r=e=>{let{children:a}=e;const[s,r]=Object(t.useReducer)(i,n);return Object(t.useEffect)((()=>{localStorage.setItem("user",JSON.stringify(s.user))}),[s.user]),Object(c.jsx)(l.Provider,{value:{user:s.user,loading:s.loading,error:s.error,dispatch:r},children:a})}}},[[32,4,5]]]);
//# sourceMappingURL=main.a028e010.chunk.js.map