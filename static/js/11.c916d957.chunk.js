(this.webpackJsonpadmin_shop=this.webpackJsonpadmin_shop||[]).push([[11],{123:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c(35),n=c.n(s),r=c(50),i=c(0);function l(e){const{indexPage:t,handlerChangePage:c,pagination:a}=e,{page:s}=a;return console.log(t),Object(i.jsx)("div",{className:"d-flex",children:t&&t.map((e=>Object(i.jsx)("li",{className:e===parseInt(s)?"page-item active":"page-item",onClick:()=>(e=>{c&&c(e)})(e),children:Object(i.jsx)("a",{className:"page-link",children:e})},e)))})}l.defaultProps={indexPage:null,handlerChangePage:null,pagination:{}};var o=l;function d(e){const{pagination:t,handlerChangePage:c,totalPage:a}=e,{page:s}=t;let n=[];for(var r=1;r<=a;r++)n.push(r);return Object(i.jsxs)("nav",{"aria-label":"Page navigation example",className:"pt-5",children:[Object(i.jsxs)("ul",{className:"pagination justify-content-center justify-content-lg-end",children:[Object(i.jsx)("li",{className:"page-item",children:Object(i.jsx)("button",{className:"page-link",onClick:()=>(e=>{if(!c)return;const t=parseInt(e)-1;c(t)})(s),disabled:s<=1,children:Object(i.jsx)("span",{children:"\xab"})})}),Object(i.jsx)(o,{indexPage:n,handlerChangePage:c,pagination:t}),Object(i.jsx)("li",{className:"page-item",children:Object(i.jsx)("button",{className:"page-link",onClick:()=>(e=>{if(!c)return;const t=parseInt(e)+1;c(t)})(s),disabled:s>=a,children:Object(i.jsx)("span",{children:"\xbb"})})})]}),Object(i.jsx)("div",{className:"pagination justify-content-center justify-content-lg-end",children:Object(i.jsxs)("p",{className:"text-small text-muted mb-0",children:["Showing 1\u20139 of ",9*parseInt(a)," results"]})})]})}d.defaultProps={pagination:{},handlerChangePage:null,totalPage:null};var j=d;var b=e=>Object(i.jsx)("div",{className:"confirm",style:{position:"fixed",width:"300px",texAlign:"center",top:" 40%",left:"50%",boxShadow:"3px 1px 1px 1px #c9c9c9 ",zIndex:"100",background:"white",border:"1px solid #c9c9c9"},children:Object(i.jsxs)("div",{className:"content",style:{padding:"20px",textAlign:"center"},children:[Object(i.jsx)("p",{children:"Are you sure?"}),Object(i.jsx)("button",{className:"btn btn-danger",onClick:()=>e.onConfirm(e.id),children:"Yes"}),"\xa0",Object(i.jsx)("button",{className:"btn btn-success",onClick:e.onCancel,children:"No"})]})}),h=c(9),p=c(71),g=c.n(p);const u=c(44)("http://localhost:5000");t.default=function(e){const[t,c]=Object(a.useState)([]),[s,l]=Object(a.useState)(!1),[o,d]=Object(a.useState)(),[p,x]=Object(a.useState)({page:"1",count:"8",search:"",category:"all"}),[m,O]=Object(a.useState)(""),[f,N]=Object(a.useState)();Object(a.useEffect)((()=>{(async()=>{const e=(await r.a.getAPI()).products;console.log(e);const t=Math.ceil(parseInt(e.length)/parseInt(p.count));console.log("totalpage",t),N(t)})()}),[p]);const y=async()=>{const e={page:p.page,count:p.count,search:p.search,category:p.category};console.log(e);const t="?"+n.a.stringify(e),a=(await r.a.getPagination(t)).products;console.log("pagination",a),c(a)};return Object(a.useEffect)((()=>{y()}),[p]),Object(a.useEffect)((()=>{u.on("update_quantity",(e=>{console.log(e.message),y()}))}),[]),Object(i.jsxs)(i.Fragment,{children:[s&&Object(i.jsx)(b,{id:o,onConfirm:async e=>{l(!1);const t=await r.a.deleteProduct(e);g.a.set("notifier","position","bottom-left"),g.a.success(t.message),y()},onCancel:()=>{l(!1)}}),Object(i.jsxs)("div",{className:"page-wrapper",children:[Object(i.jsx)("div",{className:"page-breadcrumb",children:Object(i.jsx)("div",{className:"row",children:Object(i.jsxs)("div",{className:"col-7 align-self-center",children:[Object(i.jsx)("h4",{className:"page-title text-truncate text-dark font-weight-medium mb-1",children:"Basic Initialisation"}),Object(i.jsx)("div",{className:"d-flex align-items-center",children:Object(i.jsx)("nav",{"aria-label":"breadcrumb",children:Object(i.jsxs)("ol",{className:"breadcrumb m-0 p-0",children:[Object(i.jsx)("li",{className:"breadcrumb-item",children:Object(i.jsx)("a",{href:"/",className:"text-muted",children:"Home"})}),Object(i.jsx)("li",{className:"breadcrumb-item text-muted active","aria-current":"page",children:"Table"})]})})})]})})}),Object(i.jsx)("div",{className:"container-fluid",children:Object(i.jsx)("div",{className:"row",children:Object(i.jsx)("div",{className:"col-12",children:Object(i.jsx)("div",{className:"card",children:Object(i.jsxs)("div",{className:"card-body",children:[Object(i.jsx)("h4",{className:"card-title",children:"Products"}),Object(i.jsx)("input",{className:"form-control w-25",onChange:e=>{const t=e.target.value;x({page:p.page,count:p.count,search:t,category:p.category})},type:"text",placeholder:"Enter Search!"}),Object(i.jsx)("br",{}),Object(i.jsxs)("div",{className:"table-responsive",children:[Object(i.jsxs)("table",{className:"table table-striped table-bordered no-wrap",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"ID"}),Object(i.jsx)("th",{children:"Name"}),Object(i.jsx)("th",{children:"Price"}),Object(i.jsx)("th",{children:"Image"}),Object(i.jsx)("th",{children:"Category"}),Object(i.jsx)("th",{children:"Quantity"}),Object(i.jsx)("th",{children:"Edit"})]})}),Object(i.jsx)("tbody",{children:t&&t.map((e=>Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:e._id}),Object(i.jsx)("td",{children:e.name}),Object(i.jsx)("td",{children:e.price}),Object(i.jsx)("td",{children:Object(i.jsx)("img",{src:e.img1,style:{height:"60px",width:"60px"},alt:""})}),Object(i.jsx)("td",{children:e.category}),Object(i.jsx)("td",{children:e.quantity}),Object(i.jsxs)("td",{children:[Object(i.jsx)("input",{type:"hidden",value:e._id,name:"id"}),Object(i.jsx)(h.b,{to:"/update/".concat(e._id),style:{cursor:"pointer",color:"white"},className:"btn btn-success",children:"Update"}),"\xa0",Object(i.jsx)("a",{style:{cursor:"pointer",color:"white"},onClick:()=>(e=>{console.log("open"),l(!0),d(e)})(e._id),className:"btn btn-danger",children:"Delete"})]})]},e._id)))})]}),Object(i.jsx)(j,{pagination:p,handlerChangePage:e=>{console.log("Value: ",e),x({page:e,count:p.count,search:p.search,category:p.category})},totalPage:f})]})]})})})})}),Object(i.jsx)("footer",{className:"footer text-center text-muted"})]})," "]})}},33:function(e,t,c){"use strict";var a=c(36),s=c.n(a),n=c(35),r=c.n(n);const i=s.a.create({baseURL:"http://localhost:5000/admin",headers:{"content-type":"application/json"},paramsSerializer:e=>r.a.stringify(e)});i.interceptors.request.use((async e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e.data instanceof FormData&&delete e.headers["content-type"],e})),i.interceptors.response.use((e=>e&&e.data?e.data:e),(e=>{throw e})),t.a=i},50:function(e,t,c){"use strict";var a=c(33);const s={getAPI:()=>a.a.get("/products"),getCategory:e=>{const t="/products/category".concat(e);return a.a.get(t)},getDetail:e=>{const t="/products/".concat(e);return a.a.get(t)},postNewProduct:e=>a.a.post("/add-product",e),postUpdateProduct:(e,t)=>{const c="/products/update/".concat(e);return a.a.post(c,t)},getPagination:e=>{const t="/products/pagination".concat(e);return a.a.get(t)},deleteProduct:e=>{const t="/products/delete/".concat(e);return a.a.delete(t)}};t.a=s}}]);
//# sourceMappingURL=11.c916d957.chunk.js.map